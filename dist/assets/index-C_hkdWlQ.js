var vl=Object.defineProperty;var _l=(t,e,l)=>e in t?vl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ft=(t,e,l)=>_l(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=l(s);fetch(s.href,a)}})();function H(){}function dl(t){return t()}function Pt(){return Object.create(null)}function ye(t){t.forEach(dl)}function _t(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function bl(t){return Object.keys(t).length===0}function ul(t,...e){if(t==null){for(const n of e)n(void 0);return H}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function kl(t){let e;return ul(t,l=>e=l)(),e}function ze(t,e,l){t.$$.on_destroy.push(ul(e,l))}function ge(t){return t??""}function jt(t,e,l){return t.set(l),e}function gl(t){return t&&_t(t.destroy)?t.destroy:H}function i(t,e){t.appendChild(e)}function S(t,e,l){t.insertBefore(e,l||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function Ye(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function u(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function v(){return b(" ")}function fl(){return b("")}function B(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function bt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function r(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function yl(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function Y(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Cl(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let Ue;function He(t){Ue=t}function Al(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function pl(){const t=Al();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=Cl(e,l,{cancelable:n});return s.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}const $e=[],Ft=[];let Me=[];const Vt=[],El=Promise.resolve();let mt=!1;function Dl(){mt||(mt=!0,El.then(ml))}function ht(t){Me.push(t)}const pt=new Set;let Te=0;function ml(){if(Te!==0)return;const t=Ue;do{try{for(;Te<$e.length;){const e=$e[Te];Te++,He(e),Ol(e.$$)}}catch(e){throw $e.length=0,Te=0,e}for(He(null),$e.length=0,Te=0;Ft.length;)Ft.pop()();for(let e=0;e<Me.length;e+=1){const l=Me[e];pt.has(l)||(pt.add(l),l())}Me.length=0}while($e.length);for(;Vt.length;)Vt.pop()();mt=!1,pt.clear(),He(t)}function Ol(t){if(t.fragment!==null){t.update(),ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ht)}}function Rl(t){const e=[],l=[];Me.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Me=e}const ct=new Set;let De;function Sl(){De={r:0,c:[],p:De}}function wl(){De.r||ye(De.c),De=De.p}function ie(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function ce(t,e,l,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),De.c.push(()=>{ct.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Oe(t){t&&t.c()}function be(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),ht(()=>{const a=t.$$.on_mount.map(dl).filter(_t);t.$$.on_destroy?t.$$.on_destroy.push(...a):ye(a),t.$$.on_mount=[]}),s.forEach(ht)}function ke(t,e){const l=t.$$;l.fragment!==null&&(Rl(l.after_update),ye(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Il(t,e){t.$$.dirty[0]===-1&&($e.push(t),Dl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ce(t,e,l,n,s,a,o=null,f=[-1]){const c=Ue;He(t);const d=t.$$={fragment:null,ctx:[],props:a,update:H,not_equal:s,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Pt(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};o&&o(d.root);let p=!1;if(d.ctx=l?l(t,e.props||{},(m,D,...h)=>{const g=h.length?h[0]:D;return d.ctx&&s(d.ctx[m],d.ctx[m]=g)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](g),p&&Il(t,m)),D}):[],d.update(),p=!0,ye(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const m=yl(e.target);d.fragment&&d.fragment.l(m),m.forEach(O)}else d.fragment&&d.fragment.c();e.intro&&ie(t.$$.fragment),be(t,e.target,e.anchor),ml()}He(c)}class Ae{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){ke(this,1),this.$destroy=H}$on(e,l){if(!_t(l))return H;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!bl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nl);const Le=[];function kt(t,e=H){let l;const n=new Set;function s(f){if(re(t,f)&&(t=f,l)){const c=!Le.length;for(const d of n)d[1](),Le.push(d,t);if(c){for(let d=0;d<Le.length;d+=2)Le[d][0](Le[d+1]);Le.length=0}}}function a(f){s(f(t))}function o(f,c=H){const d=[f,c];return n.add(d),n.size===1&&(l=e(s,a)||H),f(t),()=>{n.delete(d),n.size===0&&l&&(l(),l=null)}}return{set:s,update:a,subscribe:o}}const Tl=JSON.parse(localStorage.getItem("auth")||"null"),Ze=kt(Tl??{token:null,user:null,isAuthenticated:!1});Ze.subscribe(t=>{localStorage.setItem("auth",JSON.stringify(t))});function qt(t,e){Ze.set({token:t,user:e,isAuthenticated:!!t})}function Ll(){Ze.set({token:null,user:null,isAuthenticated:!1})}function $l(){const t=kl(Ze);return(t==null?void 0:t.token)||null}const Gt="http://localhost:5078".replace(/\/$/,""),Ml="/api";async function vt(t,e,l={}){const n=$l(),s={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...l.headers},a=await fetch(`${t}${e}`,{...l,headers:s}),c=(a.headers.get("content-type")||"").includes("application/json")?await a.json():await a.text();if(!a.ok)throw new Error(typeof c=="string"?c:(c==null?void 0:c.message)||`HTTP ${a.status}`);return c}async function Pl(t,e){const l=await vt(Gt,"/api/users/login",{method:"POST",body:JSON.stringify({username:t,password:e})});try{const n=await vt(Gt,"/api/users/me",{method:"GET",headers:{Authorization:`Bearer ${l}`}});qt(l,n)}catch{qt(l,null)}return l}function jl(t,e=10){return vt(Ml,`/Customers/search?q=${encodeURIComponent(t)}&take=${e}`)}function Bt(t){let e,l;return{c(){e=u("p"),l=b(t[3]),r(e,"class","error svelte-1sk9tho")},m(n,s){S(n,e,s),i(e,l)},p(n,s){s&8&&V(l,n[3])},d(n){n&&O(e)}}}function Ht(t){let e;return{c(){e=b("Entrando...")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function zt(t){let e;return{c(){e=b("Entrar")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Fl(t){let e,l,n,s,a,o,f,c,d,p,m,D,h,g,y,_,C=t[3]&&Bt(t),A=t[2]&&Ht(),k=!t[2]&&zt();return{c(){e=u("form"),l=u("h1"),l.textContent="Iniciar sesi√≥n",n=v(),s=u("label"),a=b(`usuario\r
    `),o=u("input"),f=v(),c=u("label"),d=b(`Contrase√±a\r
    `),p=u("input"),m=v(),C&&C.c(),D=v(),h=u("button"),A&&A.c(),g=v(),k&&k.c(),r(o,"type","username"),o.required=!0,r(p,"type","password"),p.required=!0,r(h,"type","submit"),h.disabled=t[2],r(h,"class","svelte-1sk9tho"),r(e,"class","login svelte-1sk9tho")},m(w,I){S(w,e,I),i(e,l),i(e,n),i(e,s),i(s,a),i(s,o),se(o,t[0]),i(e,f),i(e,c),i(c,d),i(c,p),se(p,t[1]),i(e,m),C&&C.m(e,null),i(e,D),i(e,h),A&&A.m(h,null),i(h,g),k&&k.m(h,null),y||(_=[B(o,"input",t[5]),B(p,"input",t[6]),B(e,"submit",bt(t[4]))],y=!0)},p(w,[I]){I&1&&se(o,w[0]),I&2&&p.value!==w[1]&&se(p,w[1]),w[3]?C?C.p(w,I):(C=Bt(w),C.c(),C.m(e,D)):C&&(C.d(1),C=null),w[2]?A||(A=Ht(),A.c(),A.m(h,g)):A&&(A.d(1),A=null),w[2]?k&&(k.d(1),k=null):k||(k=zt(),k.c(),k.m(h,null)),I&4&&(h.disabled=w[2])},i:H,o:H,d(w){w&&O(e),C&&C.d(),A&&A.d(),k&&k.d(),y=!1,ye(_)}}}function Vl(t,e,l){let n="",s="",a=!1,o="";async function f(p){p.preventDefault(),l(3,o=""),l(2,a=!0);try{await Pl(n,s),window.location.assign("/")}catch(m){l(3,o=(m==null?void 0:m.message)||"No se pudo iniciar sesi√≥n")}finally{l(2,a=!1)}}function c(){n=this.value,l(0,n)}function d(){s=this.value,l(1,s)}return[n,s,a,o,f,c,d]}class ql extends Ae{constructor(e){super(),Ce(this,e,Vl,Fl,re,{})}}function Ut(t,e,l){const n=t.slice();return n[1]=e[l],n}function Jt(t){let e;return{c(){e=u("a"),e.textContent=`${t[1]}`,r(e,"href","#"),r(e,"class","nav-link svelte-1jw0d6k")},m(l,n){S(l,e,n)},p:H,d(l){l&&O(e)}}}function Gl(t){let e,l,n,s,a,o,f,c,d=ae(t[0]),p=[];for(let m=0;m<d.length;m+=1)p[m]=Jt(Ut(t,d,m));return{c(){e=u("header"),l=u("div"),n=u("div"),s=u("div"),s.innerHTML='<div class="logo-icon svelte-1jw0d6k"><span class="logo-m svelte-1jw0d6k">M</span> <div class="antenna svelte-1jw0d6k"></div></div> <div class="logo-text svelte-1jw0d6k"><h1 class="svelte-1jw0d6k">MASTERTRACK</h1> <p class="svelte-1jw0d6k">El Sistema de Localizaci√≥n Vehicular m√°s Innovador</p></div>',a=v(),o=u("nav");for(let m=0;m<p.length;m+=1)p[m].c();f=v(),c=u("div"),c.innerHTML='<div class="search-bar svelte-1jw0d6k"><input type="text" placeholder="Buscar..." class="svelte-1jw0d6k"/> <span class="search-icon svelte-1jw0d6k">üîç</span></div> <a href="#" class="btn btn-primary">Portal para CLIENTES</a>',r(s,"class","logo svelte-1jw0d6k"),r(o,"class","nav svelte-1jw0d6k"),r(c,"class","header-actions svelte-1jw0d6k"),r(n,"class","header-content svelte-1jw0d6k"),r(l,"class","container"),r(e,"class","header svelte-1jw0d6k")},m(m,D){S(m,e,D),i(e,l),i(l,n),i(n,s),i(n,a),i(n,o);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(o,null);i(n,f),i(n,c)},p(m,[D]){if(D&1){d=ae(m[0]);let h;for(h=0;h<d.length;h+=1){const g=Ut(m,d,h);p[h]?p[h].p(g,D):(p[h]=Jt(g),p[h].c(),p[h].m(o,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=d.length}},i:H,o:H,d(m){m&&O(e),Ye(p,m)}}}function Bl(t){return[["Inicio","Soluciones","Plataforma MasterTrack","Nosotros","Contacto"]]}class Hl extends Ae{constructor(e){super(),Ce(this,e,Bl,Gl,re,{})}}const Je={VENDEDOR:{name:"Vendedor",permissions:["GENERAR ORDEN DE COMPRA"],color:"#FF6B6B"},COORDINADOR:{name:"Coordinador de Servicios",permissions:["COORDINACION DE SERVICIOS"],color:"#4ECDC4"},PROGRAMADOR:{name:"Programador",permissions:["PROGRAMADORES"],color:"#45B7D1"},ALMACEN:{name:"Almac√©n",permissions:["ALMAC√âN"],color:"#96CEB4"},CALIDAD:{name:"Calidad",permissions:["CALIDAD"],color:"#FFEAA7"},TECNICO:{name:"T√©cnico Instalador",permissions:["T√âCNICO INSTALADOR"],color:"#DDA0DD"},SOPORTE:{name:"Soporte T√©cnico",permissions:["SOPORTE T√âCNICO"],color:"#F8B500"},SALIDA_MATERIAL:{name:"Salida de Material",permissions:["SALIDA DE MATERIAL (INSTALACION DE STOCK)"],color:"#A8E6CF"},FACTURACION:{name:"Facturaci√≥n",permissions:["FACTURACI√ìN"],color:"#FF8A80"},ADMIN:{name:"Administrador",permissions:["GENERAR ORDEN DE COMPRA","COORDINACION DE SERVICIOS","PROGRAMADORES","ALMAC√âN","CALIDAD","T√âCNICO INSTALADOR","SOPORTE T√âCNICO","SALIDA DE MATERIAL (INSTALACION DE STOCK)","FACTURACI√ìN"],color:"#6C5CE7"}},rt=kt("VENDEDOR"),Kt=kt({name:"Usuario Demo",role:"VENDEDOR",department:"Ventas"});function hl(t,e){const l=Je[e];return l&&l.permissions.includes(t)}function ee(t){var e;return((e=Je[t])==null?void 0:e.color)||"#666666"}function Ke(t){var e;return((e=Je[t])==null?void 0:e.name)||"Desconocido"}function Yt(t,e,l){const n=t.slice();n[11]=e[l];const s=hl(n[11].aspecto,n[1]);n[12]=s;const a=n[12]||n[1]==="ADMIN";return n[13]=a,n}function Zt(t,e,l){const n=t.slice();return n[16]=e[l],n}function zl(t){let e,l;function n(o,f){return o[11].completado?Kl:Jl}let s=n(t),a=s(t);return{c(){e=u("div"),a.c(),r(e,"class",l="status-indicator "+(t[11].completado?"completed":"")+" svelte-6yi4ki")},m(o,f){S(o,e,f),a.m(e,null)},p(o,f){s!==(s=n(o))&&(a.d(1),a=s(o),a&&(a.c(),a.m(e,null))),f&1&&l!==(l="status-indicator "+(o[11].completado?"completed":"")+" svelte-6yi4ki")&&r(e,"class",l)},d(o){o&&O(e),a.d()}}}function Ul(t){let e,l,n,s,a;function o(p,m){return p[11].completado?Zl:Yl}let f=o(t),c=f(t);function d(){return t[4](t[11])}return{c(){e=u("button"),c.c(),r(e,"class",l="status-btn "+(t[11].completado?"completed":"")+" svelte-6yi4ki"),r(e,"title",n=t[11].completado?"Marcar como pendiente":"Marcar como completado")},m(p,m){S(p,e,m),c.m(e,null),s||(a=B(e,"click",d),s=!0)},p(p,m){t=p,f!==(f=o(t))&&(c.d(1),c=f(t),c&&(c.c(),c.m(e,null))),m&1&&l!==(l="status-btn "+(t[11].completado?"completed":"")+" svelte-6yi4ki")&&r(e,"class",l),m&1&&n!==(n=t[11].completado?"Marcar como pendiente":"Marcar como completado")&&r(e,"title",n)},d(p){p&&O(e),c.d(),s=!1,a()}}}function Jl(t){let e;return{c(){e=b("‚óã")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Kl(t){let e;return{c(){e=b("‚úì")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Yl(t){let e;return{c(){e=b("‚óã")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Zl(t){let e;return{c(){e=b("‚úì")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Qt(t){let e;return{c(){e=u("div"),e.textContent="Completado",r(e,"class","completion-badge svelte-6yi4ki")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function Wt(t){let e,l;return{c(){e=u("div"),l=b("Solo lectura"),r(e,"class","role-badge svelte-6yi4ki"),Y(e,"background-color",ee(t[1]))},m(n,s){S(n,e,s),i(e,l)},p(n,s){s&2&&Y(e,"background-color",ee(n[1]))},d(n){n&&O(e)}}}function Ql(t){let e,l=(t[11].firmaResponsable||"No asignado")+"",n,s;return{c(){e=u("div"),n=b(l),r(e,"class",s="readonly-field "+(t[11].firmaResponsable?"filled":"")+" svelte-6yi4ki")},m(a,o){S(a,e,o),i(e,n)},p(a,o){o&1&&l!==(l=(a[11].firmaResponsable||"No asignado")+"")&&V(n,l),o&1&&s!==(s="readonly-field "+(a[11].firmaResponsable?"filled":"")+" svelte-6yi4ki")&&r(e,"class",s)},d(a){a&&O(e)}}}function Wl(t){let e,l,n,s,a;function o(...f){return t[5](t[11],...f)}return{c(){e=u("input"),r(e,"type","text"),e.value=l=t[11].firmaResponsable,r(e,"placeholder","Firma responsable"),r(e,"class",n=ge(t[11].firmaResponsable?"filled":"")+" svelte-6yi4ki")},m(f,c){S(f,e,c),s||(a=B(e,"input",o),s=!0)},p(f,c){t=f,c&1&&l!==(l=t[11].firmaResponsable)&&e.value!==l&&(e.value=l),c&1&&n!==(n=ge(t[11].firmaResponsable?"filled":"")+" svelte-6yi4ki")&&r(e,"class",n)},d(f){f&&O(e),s=!1,a()}}}function Xl(t){let e,l=(t[11].fecha?new Date(t[11].fecha).toLocaleDateString("es-ES"):"No asignada")+"",n,s;return{c(){e=u("div"),n=b(l),r(e,"class",s="readonly-field "+(t[11].fecha?"filled":"")+" svelte-6yi4ki")},m(a,o){S(a,e,o),i(e,n)},p(a,o){o&1&&l!==(l=(a[11].fecha?new Date(a[11].fecha).toLocaleDateString("es-ES"):"No asignada")+"")&&V(n,l),o&1&&s!==(s="readonly-field "+(a[11].fecha?"filled":"")+" svelte-6yi4ki")&&r(e,"class",s)},d(a){a&&O(e)}}}function xl(t){let e,l,n,s,a;function o(...f){return t[6](t[11],...f)}return{c(){e=u("input"),r(e,"type","date"),e.value=l=t[11].fecha,r(e,"class",n=ge(t[11].fecha?"filled":"")+" svelte-6yi4ki")},m(f,c){S(f,e,c),s||(a=B(e,"input",o),s=!0)},p(f,c){t=f,c&1&&l!==(l=t[11].fecha)&&(e.value=l),c&1&&n!==(n=ge(t[11].fecha?"filled":"")+" svelte-6yi4ki")&&r(e,"class",n)},d(f){f&&O(e),s=!1,a()}}}function en(t){let e,l;function n(o,f){return o[16].type==="checkbox"?nn:ln}let s=n(t),a=s(t);return{c(){e=u("div"),a.c(),r(e,"class",l="readonly-field "+(t[11].calidad[t[16].key]?"filled":"")+" svelte-6yi4ki")},m(o,f){S(o,e,f),a.m(e,null)},p(o,f){s===(s=n(o))&&a?a.p(o,f):(a.d(1),a=s(o),a&&(a.c(),a.m(e,null))),f&1&&l!==(l="readonly-field "+(o[11].calidad[o[16].key]?"filled":"")+" svelte-6yi4ki")&&r(e,"class",l)},d(o){o&&O(e),a.d()}}}function tn(t){let e;function l(a,o){if(a[16].type==="checkbox")return on;if(a[16].type==="text")return an;if(a[16].type==="textarea")return sn}let n=l(t),s=n&&n(t);return{c(){s&&s.c(),e=fl()},m(a,o){s&&s.m(a,o),S(a,e,o)},p(a,o){n===(n=l(a))&&s?s.p(a,o):(s&&s.d(1),s=n&&n(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){a&&O(e),s&&s.d(a)}}}function ln(t){let e=(t[11].calidad[t[16].key]||"No especificado")+"",l;return{c(){l=b(e)},m(n,s){S(n,l,s)},p(n,s){s&1&&e!==(e=(n[11].calidad[n[16].key]||"No especificado")+"")&&V(l,e)},d(n){n&&O(l)}}}function nn(t){let e=t[11].calidad[t[16].key]?"‚úì":"‚óã",l;return{c(){l=b(e)},m(n,s){S(n,l,s)},p(n,s){s&1&&e!==(e=n[11].calidad[n[16].key]?"‚úì":"‚óã")&&V(l,e)},d(n){n&&O(l)}}}function sn(t){let e,l,n,s,a,o;function f(...c){return t[9](t[11],t[16],...c)}return{c(){e=u("textarea"),e.value=l=t[11].calidad[t[16].key]||"",r(e,"placeholder",n=t[16].label),r(e,"rows","2"),r(e,"class",s=ge(t[11].calidad[t[16].key]?"filled":"")+" svelte-6yi4ki")},m(c,d){S(c,e,d),a||(o=B(e,"input",f),a=!0)},p(c,d){t=c,d&1&&l!==(l=t[11].calidad[t[16].key]||"")&&(e.value=l),d&1&&n!==(n=t[16].label)&&r(e,"placeholder",n),d&1&&s!==(s=ge(t[11].calidad[t[16].key]?"filled":"")+" svelte-6yi4ki")&&r(e,"class",s)},d(c){c&&O(e),a=!1,o()}}}function an(t){let e,l,n,s,a,o;function f(...c){return t[8](t[11],t[16],...c)}return{c(){e=u("input"),r(e,"type","text"),e.value=l=t[11].calidad[t[16].key]||"",r(e,"placeholder",n=t[16].label),r(e,"class",s=ge(t[11].calidad[t[16].key]?"filled":"")+" svelte-6yi4ki")},m(c,d){S(c,e,d),a||(o=B(e,"input",f),a=!0)},p(c,d){t=c,d&1&&l!==(l=t[11].calidad[t[16].key]||"")&&e.value!==l&&(e.value=l),d&1&&n!==(n=t[16].label)&&r(e,"placeholder",n),d&1&&s!==(s=ge(t[11].calidad[t[16].key]?"filled":"")+" svelte-6yi4ki")&&r(e,"class",s)},d(c){c&&O(e),a=!1,o()}}}function on(t){let e,l,n,s;function a(...o){return t[7](t[11],t[16],...o)}return{c(){e=u("input"),r(e,"type","checkbox"),e.checked=l=t[11].calidad[t[16].key],r(e,"class","calidad-checkbox svelte-6yi4ki")},m(o,f){S(o,e,f),n||(s=B(e,"change",a),n=!0)},p(o,f){t=o,f&1&&l!==(l=t[11].calidad[t[16].key])&&(e.checked=l)},d(o){o&&O(e),n=!1,s()}}}function Xt(t){let e,l,n=t[16].label+"",s,a,o;function f(p,m){return p[13]?tn:en}let c=f(t),d=c(t);return{c(){e=u("div"),l=u("label"),s=b(n),a=v(),d.c(),o=v(),r(l,"class","svelte-6yi4ki"),r(e,"class","calidad-field svelte-6yi4ki")},m(p,m){S(p,e,m),i(e,l),i(l,s),i(e,a),d.m(e,null),i(e,o)},p(p,m){m&1&&n!==(n=p[16].label+"")&&V(s,n),c===(c=f(p))&&d?d.p(p,m):(d.d(1),d=c(p),d&&(d.c(),d.m(e,o)))},d(p){p&&O(e),d.d()}}}function xt(t){let e,l,n,s,a,o=t[11].aspecto+"",f,c,d,p,m,D,h,g,y,_,C,A;function k(E,K){return E[13]?Ul:zl}let w=k(t),I=w(t),N=t[11].completado&&Qt(),R=!t[13]&&Wt(t);function $(E,K){return E[13]?Wl:Ql}let L=$(t),M=L(t);function j(E,K){return E[13]?xl:Xl}let z=j(t),q=z(t),J=ae(el(t[11].aspecto)),T=[];for(let E=0;E<J.length;E+=1)T[E]=Xt(Zt(t,J,E));return{c(){e=u("tr"),l=u("td"),I.c(),n=v(),s=u("td"),a=u("strong"),f=b(o),c=v(),N&&N.c(),d=v(),R&&R.c(),p=v(),m=u("td"),M.c(),D=v(),h=u("td"),q.c(),g=v(),y=u("td"),_=u("div");for(let E=0;E<T.length;E+=1)T[E].c();C=v(),r(l,"class","status-cell svelte-6yi4ki"),r(s,"class","aspecto-cell svelte-6yi4ki"),r(m,"class","signature-cell svelte-6yi4ki"),r(h,"class","date-cell svelte-6yi4ki"),r(_,"class","calidad-fields svelte-6yi4ki"),r(y,"class","calidad-cell svelte-6yi4ki"),r(e,"class",A="table-row "+(t[11].completado?"completed":"")+" "+(t[13]?"":"readonly")+" svelte-6yi4ki")},m(E,K){S(E,e,K),i(e,l),I.m(l,null),i(e,n),i(e,s),i(s,a),i(a,f),i(s,c),N&&N.m(s,null),i(s,d),R&&R.m(s,null),i(e,p),i(e,m),M.m(m,null),i(e,D),i(e,h),q.m(h,null),i(e,g),i(e,y),i(y,_);for(let P=0;P<T.length;P+=1)T[P]&&T[P].m(_,null);i(e,C)},p(E,K){if(w===(w=k(E))&&I?I.p(E,K):(I.d(1),I=w(E),I&&(I.c(),I.m(l,null))),K&1&&o!==(o=E[11].aspecto+"")&&V(f,o),E[11].completado?N||(N=Qt(),N.c(),N.m(s,d)):N&&(N.d(1),N=null),E[13]?R&&(R.d(1),R=null):R?R.p(E,K):(R=Wt(E),R.c(),R.m(s,null)),L===(L=$(E))&&M?M.p(E,K):(M.d(1),M=L(E),M&&(M.c(),M.m(m,null))),z===(z=j(E))&&q?q.p(E,K):(q.d(1),q=z(E),q&&(q.c(),q.m(h,null))),K&7){J=ae(el(E[11].aspecto));let P;for(P=0;P<J.length;P+=1){const oe=Zt(E,J,P);T[P]?T[P].p(oe,K):(T[P]=Xt(oe),T[P].c(),T[P].m(_,null))}for(;P<T.length;P+=1)T[P].d(1);T.length=J.length}K&3&&A!==(A="table-row "+(E[11].completado?"completed":"")+" "+(E[13]?"":"readonly")+" svelte-6yi4ki")&&r(e,"class",A)},d(E){E&&O(e),I.d(),N&&N.d(),R&&R.d(),M.d(),q.d(),Ye(T,E)}}}function cn(t){let e,l,n,s,a,o=ae(t[0]),f=[];for(let c=0;c<o.length;c+=1)f[c]=xt(Yt(t,o,c));return{c(){e=u("div"),l=u("table"),n=u("thead"),n.innerHTML='<tr><th class="svelte-6yi4ki">ESTADO</th> <th class="svelte-6yi4ki">ASPECTO</th> <th class="svelte-6yi4ki">FIRMA RESPONSABLE</th> <th class="svelte-6yi4ki">FECHA</th> <th class="svelte-6yi4ki">CALIDAD</th></tr>',s=v(),a=u("tbody");for(let c=0;c<f.length;c+=1)f[c].c();r(l,"class","checklist-table svelte-6yi4ki"),r(e,"class","checklist-table-container svelte-6yi4ki")},m(c,d){S(c,e,d),i(e,l),i(l,n),i(l,s),i(l,a);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(a,null)},p(c,[d]){if(d&15){o=ae(c[0]);let p;for(p=0;p<o.length;p+=1){const m=Yt(c,o,p);f[p]?f[p].p(m,d):(f[p]=xt(m),f[p].c(),f[p].m(a,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=o.length}},i:H,o:H,d(c){c&&O(e),Ye(f,c)}}}function el(t){switch(t){case"GENERAR ORDEN DE COMPRA":return[{key:"datosCte",label:"DATOS CTE",type:"checkbox"},{key:"checklist",label:"CHECKLIST",type:"checkbox"},{key:"comodato",label:"COMODATO",type:"checkbox"},{key:"garantia",label:"GARANTIA",type:"checkbox"},{key:"cortesia",label:"CORTESIA",type:"checkbox"},{key:"demo",label:"DEMO",type:"checkbox"},{key:"precioRenta",label:"PRECIO RENTA",type:"checkbox"},{key:"folio",label:"FOLIO",type:"text"},{key:"numProgServ",label:"# DE PROG. SERV",type:"text"}];case"COORDINACION DE SERVICIOS":return[{key:"validado",label:"VALIDADO",type:"checkbox"},{key:"valido",label:"V√ÅLIDO",type:"checkbox"}];case"PROGRAMADORES":return[{key:"ids",label:"ID'S",type:"checkbox"},{key:"valido",label:"V√ÅLIDO",type:"checkbox"}];case"ALMAC√âN":return[{key:"matCompleto",label:"MAT. COMPLETO",type:"checkbox"},{key:"numVale",label:"# DE VALE",type:"text"},{key:"hojaSalida",label:"# HOJA SALIDA",type:"checkbox"}];case"CALIDAD":return[{key:"observaciones",label:"OBSERVACIONES:",type:"textarea"}];case"T√âCNICO INSTALADOR":return[];case"SOPORTE T√âCNICO":return[{key:"procesada",label:"PROCESADA",type:"checkbox"},{key:"pruebas",label:"PRUEBAS",type:"checkbox"},{key:"notificacionCliente",label:"NOTIFICACION AL CLIENTE",type:"checkbox"}];case"SALIDA DE MATERIAL (INSTALACION DE STOCK)":return[{key:"hojaSalida",label:"# HOJA SALIDA",type:"text"}];case"FACTURACI√ìN":return[];default:return[]}}function rn(t,e,l){let n;ze(t,rt,g=>l(1,n=g));let{checklistData:s}=e;const a=pl();function o(g,y,_){a("update",{id:g,field:y,value:_})}function f(g){a("toggle",{id:g})}const c=g=>f(g.id),d=(g,y)=>o(g.id,"firmaResponsable",y.target.value),p=(g,y)=>o(g.id,"fecha",y.target.value),m=(g,y,_)=>o(g.id,`calidad.${y.key}`,_.target.checked),D=(g,y,_)=>o(g.id,`calidad.${y.key}`,_.target.value),h=(g,y,_)=>o(g.id,`calidad.${y.key}`,_.target.value);return t.$$set=g=>{"checklistData"in g&&l(0,s=g.checklistData)},[s,n,o,f,c,d,p,m,D,h]}class dn extends Ae{constructor(e){super(),Ce(this,e,rn,cn,re,{checklistData:0})}}function tl(t,e,l){const n=t.slice();return n[13]=e[l],n}function ll(t){let e;return{c(){e=u("div"),e.textContent="Cargando...",r(e,"class","suggestions suggestions--loading svelte-14hmbl8")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function nl(t){let e,l=ae(t[1]),n=[];for(let s=0;s<l.length;s+=1)n[s]=sl(tl(t,l,s));return{c(){e=u("ul");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","suggestions svelte-14hmbl8")},m(s,a){S(s,e,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,a){if(a&130){l=ae(s[1]);let o;for(o=0;o<l.length;o+=1){const f=tl(s,l,o);n[o]?n[o].p(f,a):(n[o]=sl(f),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&O(e),Ye(n,s)}}}function sl(t){let e,l=t[13].razonSocial+"",n,s,a=t[13].id+"",o,f,c,d;function p(){return t[10](t[13])}return{c(){e=u("li"),n=b(l),s=b(" ("),o=b(a),f=b(`)\r
              `),r(e,"class","svelte-14hmbl8")},m(m,D){S(m,e,D),i(e,n),i(e,s),i(e,o),i(e,f),c||(d=B(e,"mousedown",bt(p)),c=!0)},p(m,D){t=m,D&2&&l!==(l=t[13].razonSocial+"")&&V(n,l),D&2&&a!==(a=t[13].id+"")&&V(o,a)},d(m){m&&O(e),c=!1,d()}}}function un(t){let e,l,n,s,a,o,f,c,d,p,m,D,h,g,y,_,C,A,k,w,I=t[2]&&ll(),N=t[1].length>0&&nl(t);return{c(){e=u("div"),l=u("div"),l.innerHTML='<div class="logo-section svelte-14hmbl8"><div class="logo-icon svelte-14hmbl8"><span class="logo-m svelte-14hmbl8">M</span> <div class="antenna svelte-14hmbl8"></div></div> <div class="logo-text svelte-14hmbl8"><h1 class="svelte-14hmbl8">MASTERTRACK</h1></div></div> <div class="title-section svelte-14hmbl8"><h2 class="svelte-14hmbl8">CHECKLIST DE CONTROL</h2></div> <div class="document-info svelte-14hmbl8"><p class="svelte-14hmbl8">REG-OPN-001 REV 00</p> <p class="svelte-14hmbl8">P√ÅGINA 1 DE 1</p></div>',n=v(),s=u("div"),a=u("div"),o=u("label"),o.textContent="CLIENTE:",f=v(),c=u("div"),d=u("input"),p=v(),I&&I.c(),m=v(),N&&N.c(),D=v(),h=u("button"),h.textContent="Buscar",g=v(),y=u("div"),_=u("label"),_.textContent="FECHA:",C=v(),A=u("input"),r(l,"class","header-top svelte-14hmbl8"),r(o,"class","svelte-14hmbl8"),r(d,"class","inputClient svelte-14hmbl8"),r(d,"type","text"),r(d,"placeholder","Nombre del cliente"),r(d,"autocomplete","off"),r(c,"class","input-wrap svelte-14hmbl8"),r(h,"class","searchButton svelte-14hmbl8"),r(h,"type","button"),r(a,"class","info-field svelte-14hmbl8"),r(_,"class","svelte-14hmbl8"),r(A,"type","date"),r(A,"class","svelte-14hmbl8"),r(y,"class","info-field svelte-14hmbl8"),r(s,"class","client-info svelte-14hmbl8"),r(e,"class","checklist-header svelte-14hmbl8")},m(R,$){S(R,e,$),i(e,l),i(e,n),i(e,s),i(s,a),i(a,o),i(a,f),i(a,c),i(c,d),se(d,t[0]),i(c,p),I&&I.m(c,null),i(c,m),N&&N.m(c,null),i(a,D),i(a,h),i(s,g),i(s,y),i(y,_),i(y,C),i(y,A),se(A,t[3]),k||(w=[B(d,"input",t[8]),B(d,"keydown",t[9]),gl(t[5].call(null,c)),B(h,"click",bt(t[6])),B(A,"input",t[11]),B(A,"input",t[12])],k=!0)},p(R,[$]){$&1&&d.value!==R[0]&&se(d,R[0]),R[2]?I||(I=ll(),I.c(),I.m(c,m)):I&&(I.d(1),I=null),R[1].length>0?N?N.p(R,$):(N=nl(R),N.c(),N.m(c,null)):N&&(N.d(1),N=null),$&8&&se(A,R[3])},i:H,o:H,d(R){R&&O(e),I&&I.d(),N&&N.d(),k=!1,ye(w)}}}function fn(t,e,l){const n=pl();let s="",a=[],o=!1;function f(_){const C=A=>{_.contains(A.target)||l(1,a=[])};return document.addEventListener("mousedown",C),{destroy(){document.removeEventListener("mousedown",C)}}}async function c(){if(!s||s.length<1){l(1,a=[]);return}l(2,o=!0);try{l(1,a=await jl(s,10))}catch(_){console.error("Error al buscar clientes:",_),l(1,a=[])}finally{l(2,o=!1)}}function d(_){l(0,s=_.razonSocial),l(1,a=[]),n("update",{field:"cliente",value:_.razonSocial,id:_.id})}let p=new Date().toISOString().split("T")[0];function m(){s=this.value,l(0,s)}const D=_=>{_.key==="Escape"&&l(1,a=[])},h=_=>d(_);function g(){p=this.value,l(3,p)}return[s,a,o,p,n,f,c,d,m,D,h,g,_=>n("update",{field:"fecha",value:_.target.value})]}class pn extends Ae{constructor(e){super(),Ce(this,e,fn,un,re,{})}}function mn(t){let e,l;return{c(){e=b(t[9]),l=b("m")},m(n,s){S(n,e,s),S(n,l,s)},p(n,s){s&512&&V(e,n[9])},d(n){n&&(O(e),O(l))}}}function hn(t){let e,l,n,s;return{c(){e=b(t[10]),l=b("h "),n=b(t[9]),s=b("m")},m(a,o){S(a,e,o),S(a,l,o),S(a,n,o),S(a,s,o)},p(a,o){o&1024&&V(e,a[10]),o&512&&V(n,a[9])},d(a){a&&(O(e),O(l),O(n),O(s))}}}function vn(t){let e;return{c(){e=b("¬°Completado!")},m(l,n){S(l,e,n)},p:H,d(l){l&&O(e)}}}function _n(t){var n;let e=(((n=t[2].find(al))==null?void 0:n.aspecto.split(" ").slice(0,2).join(" "))||"N/A")+"",l;return{c(){l=b(e)},m(s,a){S(s,l,a)},p(s,a){var o;a&4&&e!==(e=(((o=s[2].find(al))==null?void 0:o.aspecto.split(" ").slice(0,2).join(" "))||"N/A")+"")&&V(l,e)},d(s){s&&O(l)}}}function bn(t){let e;return{c(){e=b("Todos completados")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function kn(t){let e;return{c(){e=b("Pendiente")},m(l,n){S(l,e,n)},d(l){l&&O(e)}}}function il(t){let e,l,n,s,a,o,f,c=t[0].cliente+"",d,p,m,D,h,g=new Date(t[0].fecha).toLocaleDateString("es-ES")+"",y,_,C,A,k,w,I=t[12]===100?"Completado":t[12]>50?"En Progreso":"Pendiente",N,R,$,L,M,j,z,q=Ke(t[6])+"",J;return{c(){e=u("div"),l=u("h3"),l.textContent="üìã Informaci√≥n del Cliente",n=v(),s=u("div"),a=u("div"),o=u("strong"),o.textContent="Cliente:",f=v(),d=b(c),p=v(),m=u("div"),D=u("strong"),D.textContent="Fecha:",h=v(),y=b(g),_=v(),C=u("div"),A=u("strong"),A.textContent="Estado:",k=v(),w=u("span"),N=b(I),$=v(),L=u("div"),M=u("strong"),M.textContent="Mi Rol:",j=v(),z=u("span"),J=b(q),r(l,"class","svelte-12y8d0w"),r(a,"class","client-field svelte-12y8d0w"),r(m,"class","client-field svelte-12y8d0w"),r(w,"class",R="status-badge "+(t[12]===100?"completed":t[12]>50?"in-progress":"pending")+" svelte-12y8d0w"),r(C,"class","client-field svelte-12y8d0w"),r(z,"class","role-badge svelte-12y8d0w"),Y(z,"background-color",ee(t[6])),r(L,"class","client-field svelte-12y8d0w"),r(s,"class","client-details svelte-12y8d0w"),r(e,"class","client-info-card svelte-12y8d0w")},m(T,E){S(T,e,E),i(e,l),i(e,n),i(e,s),i(s,a),i(a,o),i(a,f),i(a,d),i(s,p),i(s,m),i(m,D),i(m,h),i(m,y),i(s,_),i(s,C),i(C,A),i(C,k),i(C,w),i(w,N),i(s,$),i(s,L),i(L,M),i(L,j),i(L,z),i(z,J)},p(T,E){E&1&&c!==(c=T[0].cliente+"")&&V(d,c),E&1&&g!==(g=new Date(T[0].fecha).toLocaleDateString("es-ES")+"")&&V(y,g),E&4096&&I!==(I=T[12]===100?"Completado":T[12]>50?"En Progreso":"Pendiente")&&V(N,I),E&4096&&R!==(R="status-badge "+(T[12]===100?"completed":T[12]>50?"in-progress":"pending")+" svelte-12y8d0w")&&r(w,"class",R),E&64&&q!==(q=Ke(T[6])+"")&&V(J,q),E&64&&Y(z,"background-color",ee(T[6]))},d(T){T&&O(e)}}}function gn(t){let e,l,n,s,a,o,f,c,d,p,m,D,h,g,y,_,C,A,k,w,I,N,R,$,L,M=Ke(t[6])+"",j,z,q,J,T,E,K,P,oe,X,te=t[2].length+"",Re,de,Pe,x,Ee,ue,Z,fe,je,G,Q,Fe,pe,Ve,Se,Qe,gt,me,We,yt,we,dt,Ct,Xe=t[3].length+"",ut,At,xe,Et,Ie,et,Dt,he,tt,Ot,qe,Rt,lt,St,Ne,nt,wt,ve,st,It,Ge,Nt,Be,Tt;function Lt(F,U){return F[10]>0?hn:mn}let it=Lt(t),le=it(t);function $t(F,U){return F[7]>0?_n:vn}let at=$t(t),ne=at(t);function Mt(F,U){return F[7]>0?kn:bn}let ot=Mt(t),_e=ot(t),W=t[0].cliente&&il(t);return{c(){e=u("div"),l=u("div"),n=u("div"),s=u("div"),s.textContent="üìä",a=v(),o=u("div"),f=u("h3"),f.textContent="Progreso General",c=v(),d=u("div"),p=b(t[12]),m=b("%"),D=v(),h=u("div"),g=b(t[5]),y=b(" de "),_=b(t[4]),C=b(" pasos"),A=v(),k=u("div"),w=u("div"),I=b("üë§"),N=v(),R=u("div"),$=u("h3"),L=b("Mi Progreso ("),j=b(M),z=b(")"),q=v(),J=u("div"),T=b(t[8]),E=b("%"),K=v(),P=u("div"),oe=b(t[1]),X=b(" de "),Re=b(te),de=b(" pasos"),Pe=v(),x=u("div"),Ee=u("div"),Ee.textContent="‚è≥",ue=v(),Z=u("div"),fe=u("h3"),fe.textContent="Mis Pendientes",je=v(),G=u("div"),Q=b(t[7]),Fe=v(),pe=u("div"),pe.textContent="por completar",Ve=v(),Se=u("div"),Qe=u("div"),Qe.textContent="‚ö†Ô∏è",gt=v(),me=u("div"),We=u("h3"),We.textContent="Pasos Cr√≠ticos",yt=v(),we=u("div"),dt=b(t[11]),Ct=b("/"),ut=b(Xe),At=v(),xe=u("div"),xe.textContent="completados",Et=v(),Ie=u("div"),et=u("div"),et.textContent="‚è∞",Dt=v(),he=u("div"),tt=u("h3"),tt.textContent="Tiempo Estimado",Ot=v(),qe=u("div"),le.c(),Rt=v(),lt=u("div"),lt.textContent="restante",St=v(),Ne=u("div"),nt=u("div"),nt.textContent="üéØ",wt=v(),ve=u("div"),st=u("h3"),st.textContent="Pr√≥ximo Paso",It=v(),Ge=u("div"),ne.c(),Nt=v(),Be=u("div"),_e.c(),Tt=v(),W&&W.c(),r(s,"class","stat-icon svelte-12y8d0w"),r(f,"class","svelte-12y8d0w"),r(d,"class","stat-value svelte-12y8d0w"),r(h,"class","stat-detail svelte-12y8d0w"),r(o,"class","stat-content svelte-12y8d0w"),r(n,"class","stat-card svelte-12y8d0w"),r(w,"class","stat-icon svelte-12y8d0w"),Y(w,"background-color",ee(t[6])),r($,"class","svelte-12y8d0w"),r(J,"class","stat-value svelte-12y8d0w"),r(P,"class","stat-detail svelte-12y8d0w"),r(R,"class","stat-content svelte-12y8d0w"),r(k,"class","stat-card user-progress svelte-12y8d0w"),Y(k,"border-color",ee(t[6])),r(Ee,"class","stat-icon svelte-12y8d0w"),r(fe,"class","svelte-12y8d0w"),r(G,"class","stat-value svelte-12y8d0w"),r(pe,"class","stat-detail svelte-12y8d0w"),r(Z,"class","stat-content svelte-12y8d0w"),r(x,"class","stat-card svelte-12y8d0w"),r(Qe,"class","stat-icon svelte-12y8d0w"),r(We,"class","svelte-12y8d0w"),r(we,"class","stat-value svelte-12y8d0w"),r(xe,"class","stat-detail svelte-12y8d0w"),r(me,"class","stat-content svelte-12y8d0w"),r(Se,"class","stat-card svelte-12y8d0w"),r(et,"class","stat-icon svelte-12y8d0w"),r(tt,"class","svelte-12y8d0w"),r(qe,"class","stat-value svelte-12y8d0w"),r(lt,"class","stat-detail svelte-12y8d0w"),r(he,"class","stat-content svelte-12y8d0w"),r(Ie,"class","stat-card svelte-12y8d0w"),r(nt,"class","stat-icon svelte-12y8d0w"),r(st,"class","svelte-12y8d0w"),r(Ge,"class","stat-value svelte-12y8d0w"),r(Be,"class","stat-detail svelte-12y8d0w"),r(ve,"class","stat-content svelte-12y8d0w"),r(Ne,"class","stat-card svelte-12y8d0w"),r(l,"class","stats-grid svelte-12y8d0w"),r(e,"class","stats-container svelte-12y8d0w")},m(F,U){S(F,e,U),i(e,l),i(l,n),i(n,s),i(n,a),i(n,o),i(o,f),i(o,c),i(o,d),i(d,p),i(d,m),i(o,D),i(o,h),i(h,g),i(h,y),i(h,_),i(h,C),i(l,A),i(l,k),i(k,w),i(w,I),i(k,N),i(k,R),i(R,$),i($,L),i($,j),i($,z),i(R,q),i(R,J),i(J,T),i(J,E),i(R,K),i(R,P),i(P,oe),i(P,X),i(P,Re),i(P,de),i(l,Pe),i(l,x),i(x,Ee),i(x,ue),i(x,Z),i(Z,fe),i(Z,je),i(Z,G),i(G,Q),i(Z,Fe),i(Z,pe),i(l,Ve),i(l,Se),i(Se,Qe),i(Se,gt),i(Se,me),i(me,We),i(me,yt),i(me,we),i(we,dt),i(we,Ct),i(we,ut),i(me,At),i(me,xe),i(l,Et),i(l,Ie),i(Ie,et),i(Ie,Dt),i(Ie,he),i(he,tt),i(he,Ot),i(he,qe),le.m(qe,null),i(he,Rt),i(he,lt),i(l,St),i(l,Ne),i(Ne,nt),i(Ne,wt),i(Ne,ve),i(ve,st),i(ve,It),i(ve,Ge),ne.m(Ge,null),i(ve,Nt),i(ve,Be),_e.m(Be,null),i(e,Tt),W&&W.m(e,null)},p(F,[U]){U&4096&&V(p,F[12]),U&32&&V(g,F[5]),U&16&&V(_,F[4]),U&64&&Y(w,"background-color",ee(F[6])),U&64&&M!==(M=Ke(F[6])+"")&&V(j,M),U&256&&V(T,F[8]),U&2&&V(oe,F[1]),U&4&&te!==(te=F[2].length+"")&&V(Re,te),U&64&&Y(k,"border-color",ee(F[6])),U&128&&V(Q,F[7]),U&2048&&V(dt,F[11]),U&8&&Xe!==(Xe=F[3].length+"")&&V(ut,Xe),it===(it=Lt(F))&&le?le.p(F,U):(le.d(1),le=it(F),le&&(le.c(),le.m(qe,null))),at===(at=$t(F))&&ne?ne.p(F,U):(ne.d(1),ne=at(F),ne&&(ne.c(),ne.m(Ge,null))),ot!==(ot=Mt(F))&&(_e.d(1),_e=ot(F),_e&&(_e.c(),_e.m(Be,null))),F[0].cliente?W?W.p(F,U):(W=il(F),W.c(),W.m(e,null)):W&&(W.d(1),W=null)},i:H,o:H,d(F){F&&O(e),le.d(),ne.d(),_e.d(),W&&W.d()}}}const al=t=>!t.completado;function yn(t,e,l){let n,s,a,o,f,c,d,p,m,D,h,g,y,_;ze(t,rt,k=>l(6,_=k));let{checklistData:C}=e,{clientData:A}=e;return t.$$set=k=>{"checklistData"in k&&l(13,C=k.checklistData),"clientData"in k&&l(0,A=k.clientData)},t.$$.update=()=>{t.$$.dirty&8192&&l(4,n=C.length),t.$$.dirty&8192&&l(5,s=C.filter(k=>k.completado).length),t.$$.dirty&48&&l(15,a=n-s),t.$$.dirty&48&&l(12,o=Math.round(s/n*100)),t.$$.dirty&8192&&l(3,f=C.filter(k=>Object.keys(k.calidad).length>2)),t.$$.dirty&8&&l(11,c=f.filter(k=>k.completado).length),t.$$.dirty&32768&&l(14,d=a*30),t.$$.dirty&16384&&l(10,p=Math.floor(d/60)),t.$$.dirty&16384&&l(9,m=d%60),t.$$.dirty&8256&&l(2,D=C.filter(k=>hl(k.aspecto,_))),t.$$.dirty&4&&l(1,h=D.filter(k=>k.completado).length),t.$$.dirty&6&&l(8,g=D.length>0?Math.round(h/D.length*100):0),t.$$.dirty&6&&l(7,y=D.length-h)},[A,h,D,f,n,s,_,y,g,m,p,c,o,C,d,a]}class Cn extends Ae{constructor(e){super(),Ce(this,e,yn,gn,re,{checklistData:13,clientData:0})}}function ol(t,e,l){const n=t.slice();return n[5]=e[l][0],n[6]=e[l][1],n}function cl(t){let e,l,n,s,a,o,f,c;function d(){return t[4](t[5])}return{c(){e=u("button"),l=u("div"),n=v(),s=u("span"),s.textContent=`${t[6].name}`,a=v(),r(l,"class","role-color svelte-28p956"),Y(l,"background-color",t[6].color),r(e,"class",o="role-option "+(t[5]===t[1]?"active":"")+" svelte-28p956")},m(p,m){S(p,e,m),i(e,l),i(e,n),i(e,s),i(e,a),f||(c=B(e,"click",d),f=!0)},p(p,m){t=p,m&2&&o!==(o="role-option "+(t[5]===t[1]?"active":"")+" svelte-28p956")&&r(e,"class",o)},d(p){p&&O(e),f=!1,c()}}}function An(t){let e,l,n,s,a=t[0].name.charAt(0)+"",o,f,c,d,p=t[0].name+"",m,D,h,g=t[0].department+"",y,_,C,A,k,w,I,N,R=ae(Object.entries(Je)),$=[];for(let L=0;L<R.length;L+=1)$[L]=cl(ol(t,R,L));return{c(){e=u("div"),l=u("div"),n=u("div"),s=u("div"),o=b(a),f=v(),c=u("div"),d=u("div"),m=b(p),D=v(),h=u("div"),y=b(g),_=v(),C=u("div"),A=u("button"),A.innerHTML=`Cambiar Rol
      <span class="arrow svelte-28p956">‚ñº</span>`,k=v(),w=u("div");for(let L=0;L<$.length;L+=1)$[L].c();r(s,"class","user-avatar svelte-28p956"),Y(s,"background-color",ee(t[1])),r(d,"class","user-name svelte-28p956"),r(h,"class","user-role svelte-28p956"),Y(h,"color",ee(t[1])),r(c,"class","user-details svelte-28p956"),r(n,"class","user-info svelte-28p956"),r(l,"class","current-user svelte-28p956"),r(A,"class","role-toggle svelte-28p956"),r(w,"id","role-menu"),r(w,"class","role-menu svelte-28p956"),r(C,"class","role-dropdown svelte-28p956"),r(e,"class","role-selector svelte-28p956")},m(L,M){S(L,e,M),i(e,l),i(l,n),i(n,s),i(s,o),i(n,f),i(n,c),i(c,d),i(d,m),i(c,D),i(c,h),i(h,y),i(e,_),i(e,C),i(C,A),i(C,k),i(C,w);for(let j=0;j<$.length;j+=1)$[j]&&$[j].m(w,null);I||(N=B(A,"click",t[3]),I=!0)},p(L,[M]){if(M&1&&a!==(a=L[0].name.charAt(0)+"")&&V(o,a),M&2&&Y(s,"background-color",ee(L[1])),M&1&&p!==(p=L[0].name+"")&&V(m,p),M&1&&g!==(g=L[0].department+"")&&V(y,g),M&2&&Y(h,"color",ee(L[1])),M&6){R=ae(Object.entries(Je));let j;for(j=0;j<R.length;j+=1){const z=ol(L,R,j);$[j]?$[j].p(z,M):($[j]=cl(z),$[j].c(),$[j].m(w,null))}for(;j<$.length;j+=1)$[j].d(1);$.length=R.length}},i:H,o:H,d(L){L&&O(e),Ye($,L),I=!1,N()}}}function En(t,e,l){let n,s;ze(t,Kt,c=>l(0,n=c)),ze(t,rt,c=>l(1,s=c));function a(c){jt(rt,s=c,s),jt(Kt,n={...n,role:c,department:Ke(c)},n)}return[n,s,a,()=>document.getElementById("role-menu").classList.toggle("show"),c=>{a(c),document.getElementById("role-menu").classList.remove("show")}]}class Dn extends Ae{constructor(e){super(),Ce(this,e,En,An,re,{})}}const On={cliente:"Transportes Ejemplo S.A.",fecha:new Date().toISOString().split("T")[0]},Rn=[{id:1,aspecto:"GENERAR ORDEN DE COMPRA",firmaResponsable:"Juan P√©rez",fecha:"2024-01-15",completado:!0,calidad:{datosCte:!0,checklist:!0,comodato:!0,garantia:!0,cortesia:!1,demo:!0,precioRenta:!0,folio:"FOL-001",numProgServ:"SERV-001"}},{id:2,aspecto:"COORDINACION DE SERVICIOS",firmaResponsable:"Mar√≠a Garc√≠a",fecha:"2024-01-16",completado:!0,calidad:{validado:!0,valido:!0}},{id:3,aspecto:"PROGRAMADORES",firmaResponsable:"Carlos L√≥pez",fecha:"2024-01-17",completado:!0,calidad:{ids:!0,valido:!0}},{id:4,aspecto:"ALMAC√âN",firmaResponsable:"Ana Rodr√≠guez",fecha:"2024-01-18",completado:!0,calidad:{matCompleto:!0,numVale:"VALE-001",hojaSalida:!0}},{id:5,aspecto:"CALIDAD",firmaResponsable:"Luis Mart√≠nez",fecha:"2024-01-19",completado:!0,calidad:{observaciones:"Material verificado y aprobado"}},{id:6,aspecto:"T√âCNICO INSTALADOR",firmaResponsable:"Roberto Silva",fecha:"2024-01-20",completado:!1,calidad:{}},{id:7,aspecto:"SOPORTE T√âCNICO",firmaResponsable:"",fecha:"",completado:!1,calidad:{procesada:!1,pruebas:!1,notificacionCliente:!1}},{id:8,aspecto:"CALIDAD",firmaResponsable:"",fecha:"",completado:!1,calidad:{observaciones:""}},{id:9,aspecto:"SALIDA DE MATERIAL (INSTALACION DE STOCK)",firmaResponsable:"",fecha:"",completado:!1,calidad:{hojaSalida:""}},{id:10,aspecto:"FACTURACI√ìN",firmaResponsable:"",fecha:"",completado:!1,calidad:{}}],Sn="Instalaci√≥n programada para la pr√≥xima semana. Cliente solicita instalaci√≥n en horario matutino.";function wn(t){let e,l,n,s,a,o,f,c,d,p,m,D,h,g,y,_,C,A,k=t[0].filter(rl).length+"",w,I,N=t[0].length+"",R,$,L,M,j,z,q,J,T,E,K,P,oe,X,te,Re,de,Pe,x,Ee,ue,Z,fe,je;return a=new Dn({}),f=new pn({props:{clientData:t[1]}}),f.$on("update",t[4]),d=new Cn({props:{checklistData:t[0],clientData:t[1]}}),q=new dn({props:{checklistData:t[0]}}),q.$on("update",t[5]),q.$on("toggle",t[6]),{c(){e=u("div"),l=u("div"),n=u("div"),n.innerHTML='<h2 class="svelte-midaq5">PLATAFORMA AVANZADA DE SEGURIDAD Y GESTI√ìN DE FLOTAS</h2> <h1 class="svelte-midaq5">¬°Tenemos una <span class="highlight svelte-midaq5">soluci√≥n</span> para cada <span class="highlight svelte-midaq5">problem√°tica del Transporte!</span></h1>',s=v(),Oe(a.$$.fragment),o=v(),Oe(f.$$.fragment),c=v(),Oe(d.$$.fragment),p=v(),m=u("div"),D=u("div"),h=u("span"),g=b("Progreso del Proceso: "),y=b(t[3]),_=b("%"),C=v(),A=u("span"),w=b(k),I=b(" de "),R=b(N),$=b(" pasos completados"),L=v(),M=u("div"),j=u("div"),z=v(),Oe(q.$$.fragment),J=v(),T=u("div"),E=u("h3"),E.textContent="COMENTARIOS:",K=v(),P=u("textarea"),oe=v(),X=u("div"),te=u("button"),te.textContent="Cargar Ejemplo",Re=v(),de=u("button"),de.textContent="Limpiar Formulario",Pe=v(),x=u("button"),x.textContent="Imprimir Checklist",Ee=v(),ue=u("button"),ue.textContent="Guardar Checklist",r(n,"class","main-title svelte-midaq5"),r(D,"class","progress-info svelte-midaq5"),r(j,"class","progress-fill svelte-midaq5"),Y(j,"width",t[3]+"%"),r(M,"class","progress-bar svelte-midaq5"),r(m,"class","progress-section svelte-midaq5"),r(E,"class","svelte-midaq5"),r(P,"placeholder","Ingrese comentarios adicionales..."),r(P,"rows","4"),r(P,"class","svelte-midaq5"),r(T,"class","comments-section svelte-midaq5"),r(te,"class","btn btn-outline"),r(de,"class","btn btn-outline"),r(x,"class","btn btn-outline"),r(ue,"class","btn btn-primary"),r(X,"class","actions svelte-midaq5"),r(l,"class","container"),r(e,"class","checklist-container svelte-midaq5")},m(G,Q){S(G,e,Q),i(e,l),i(l,n),i(l,s),be(a,l,null),i(l,o),be(f,l,null),i(l,c),be(d,l,null),i(l,p),i(l,m),i(m,D),i(D,h),i(h,g),i(h,y),i(h,_),i(D,C),i(D,A),i(A,w),i(A,I),i(A,R),i(A,$),i(m,L),i(m,M),i(M,j),i(l,z),be(q,l,null),i(l,J),i(l,T),i(T,E),i(T,K),i(T,P),se(P,t[2]),i(l,oe),i(l,X),i(X,te),i(X,Re),i(X,de),i(X,Pe),i(X,x),i(X,Ee),i(X,ue),Z=!0,fe||(je=[B(P,"input",t[10]),B(te,"click",t[7]),B(de,"click",t[9]),B(x,"click",t[11]),B(ue,"click",t[8])],fe=!0)},p(G,[Q]){const Fe={};Q&2&&(Fe.clientData=G[1]),f.$set(Fe);const pe={};Q&1&&(pe.checklistData=G[0]),Q&2&&(pe.clientData=G[1]),d.$set(pe),(!Z||Q&8)&&V(y,G[3]),(!Z||Q&1)&&k!==(k=G[0].filter(rl).length+"")&&V(w,k),(!Z||Q&1)&&N!==(N=G[0].length+"")&&V(R,N),(!Z||Q&8)&&Y(j,"width",G[3]+"%");const Ve={};Q&1&&(Ve.checklistData=G[0]),q.$set(Ve),Q&4&&se(P,G[2])},i(G){Z||(ie(a.$$.fragment,G),ie(f.$$.fragment,G),ie(d.$$.fragment,G),ie(q.$$.fragment,G),Z=!0)},o(G){ce(a.$$.fragment,G),ce(f.$$.fragment,G),ce(d.$$.fragment,G),ce(q.$$.fragment,G),Z=!1},d(G){G&&O(e),ke(a),ke(f),ke(d),ke(q),fe=!1,ye(je)}}}function In(t){const e=t.firmaResponsable.trim()!=="",l=t.fecha!=="",n=Object.values(t.calidad).some(s=>typeof s=="boolean"?s:typeof s=="string"&&s.trim()!=="");t.completado=e&&l&&n}const rl=t=>t.completado;function Nn(t,e,l){let n={cliente:"",fecha:new Date().toISOString().split("T")[0]},s=[{id:1,aspecto:"GENERAR ORDEN DE COMPRA",firmaResponsable:"",fecha:"",completado:!1,calidad:{datosCte:!1,checklist:!1,comodato:!1,garantia:!1,cortesia:!1,demo:!1,precioRenta:!1,folio:"",numProgServ:""}},{id:2,aspecto:"COORDINACION DE SERVICIOS",firmaResponsable:"",fecha:"",completado:!1,calidad:{validado:!1,valido:!1}},{id:3,aspecto:"PROGRAMADORES",firmaResponsable:"",fecha:"",completado:!1,calidad:{ids:!1,valido:!1}},{id:4,aspecto:"ALMAC√âN",firmaResponsable:"",fecha:"",completado:!1,calidad:{matCompleto:!1,numVale:"",hojaSalida:!1}},{id:5,aspecto:"CALIDAD",firmaResponsable:"",fecha:"",completado:!1,calidad:{observaciones:""}},{id:6,aspecto:"T√âCNICO INSTALADOR",firmaResponsable:"",fecha:"",completado:!1,calidad:{}},{id:7,aspecto:"SOPORTE T√âCNICO",firmaResponsable:"",fecha:"",completado:!1,calidad:{procesada:!1,pruebas:!1,notificacionCliente:!1}},{id:8,aspecto:"CALIDAD",firmaResponsable:"",fecha:"",completado:!1,calidad:{observaciones:""}},{id:9,aspecto:"SALIDA DE MATERIAL (INSTALACION DE STOCK)",firmaResponsable:"",fecha:"",completado:!1,calidad:{hojaSalida:""}},{id:10,aspecto:"FACTURACI√ìN",firmaResponsable:"",fecha:"",completado:!1,calidad:{}}],a="",o=0;function f(y,_){l(1,n[y]=_,n)}function c(y,_,C){const A=s.find(k=>k.id===y);if(A){if(_.includes(".")){const[k,w]=_.split(".");A[k][w]=C}else A[_]=C;In(A)}}function d(y){const _=s.find(C=>C.id===y);_&&(_.completado=!_.completado,_.completado&&!_.fecha&&(_.fecha=new Date().toISOString().split("T")[0]))}function p(){confirm("¬øCargar datos de ejemplo? Esto reemplazar√° los datos actuales.")&&(l(1,n={...On}),l(0,s=JSON.parse(JSON.stringify(Rn))),l(2,a=Sn))}function m(){const y={clientData:n,checklistData:s,comentarios:a,progress:o,timestamp:new Date().toISOString()};console.log("Datos del checklist:",y),alert(`Checklist guardado exitosamente. Progreso: ${o}%`)}function D(){confirm("¬øEst√°s seguro de que quieres limpiar todo el formulario?")&&(l(1,n={cliente:"",fecha:new Date().toISOString().split("T")[0]}),l(0,s=s.map(y=>({...y,firmaResponsable:"",fecha:"",completado:!1,calidad:Object.keys(y.calidad).reduce((_,C)=>(_[C]=typeof y.calidad[C]=="boolean"?!1:"",_),{})}))),l(2,a=""))}function h(){a=this.value,l(2,a)}const g=()=>window.print();return t.$$.update=()=>{t.$$.dirty&1&&l(3,o=Math.round(s.filter(y=>y.completado).length/s.length*100))},[s,n,a,o,f,c,d,p,m,D,h,g]}class Tn extends Ae{constructor(e){super(),Ce(this,e,Nn,wn,re,{})}}function Ln(t){let e,l;return e=new ql({}),{c(){Oe(e.$$.fragment)},m(n,s){be(e,n,s),l=!0},i(n){l||(ie(e.$$.fragment,n),l=!0)},o(n){ce(e.$$.fragment,n),l=!1},d(n){ke(e,n)}}}function $n(t){let e,l,n,s,a,o,f,c;return e=new Hl({}),a=new Tn({}),{c(){Oe(e.$$.fragment),l=v(),n=u("button"),n.textContent="Cerrar sesi√≥n",s=v(),Oe(a.$$.fragment),Y(n,"position","fixed"),Y(n,"top","12px"),Y(n,"right","12px")},m(d,p){be(e,d,p),S(d,l,p),S(d,n,p),S(d,s,p),be(a,d,p),o=!0,f||(c=B(n,"click",Ll),f=!0)},i(d){o||(ie(e.$$.fragment,d),ie(a.$$.fragment,d),o=!0)},o(d){ce(e.$$.fragment,d),ce(a.$$.fragment,d),o=!1},d(d){d&&(O(l),O(n),O(s)),ke(e,d),ke(a,d),f=!1,c()}}}function Mn(t){let e,l,n,s;const a=[$n,Ln],o=[];function f(c,d){return c[0].isAuthenticated?0:1}return e=f(t),l=o[e]=a[e](t),{c(){l.c(),n=fl()},m(c,d){o[e].m(c,d),S(c,n,d),s=!0},p(c,[d]){let p=e;e=f(c),e!==p&&(Sl(),ce(o[p],1,1,()=>{o[p]=null}),wl(),l=o[e],l||(l=o[e]=a[e](c),l.c()),ie(l,1),l.m(n.parentNode,n))},i(c){s||(ie(l),s=!0)},o(c){ce(l),s=!1},d(c){c&&O(n),o[e].d(c)}}}function Pn(t,e,l){let n;return ze(t,Ze,s=>l(0,n=s)),[n]}class jn extends Ae{constructor(e){super(),Ce(this,e,Pn,Mn,re,{})}}new jn({target:document.getElementById("app")});
